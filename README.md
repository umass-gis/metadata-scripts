# OGM Aardvark Metadata Scripts
Scripts for creating geospatial metadata in the [OGM Aardvark](https://opengeometadata.org) metadata schema for UMass Amherst's [GeoBlacklight](https://geoblacklight.org) repository. The workflow is designed to generate metadata for a collection of georeferenced aerial photos in the [UMass Amherst MacConnell Aerial Photo Collection](https://credo.library.umass.edu/view/collection/mufs190).

## Required Inputs

* Individual XML files for each record generated by the [Export Metadata Multiple](https://desktop.arcgis.com/en/arcmap/latest/tools/conversion-toolbox/export-metadata-multiple.htm) tool in ArcMap
* One or more CSV files with additional metadata, each row containing a unique ID

To try out the scripts, the [test_data.zip](https://github.com/umass-gis/metadata-scripts/blob/main/test_data.zip) package contains 6 sample XML files of georeferenced aerial photos and the files `scua.csv` and `annotation.csv` with additional metadata about the full aerial photo collection.

## Step 1: extractXMLToCSVGetGeoNames.py
Iterates through multiple XML files containing bounding coordinates, extracts relevant data based on tags, uses API queries to retrieve coverage information from the GeoNames database, and aggregates the information into a single CSV.

## Step 2: mergeCSVs.py
Merges the output from Step 1 with another CSV containing additional metadata. The merge is done on the unique ID `mods_ID`.

## Step 3: formatCSVtoAardvark.py
Formats the output from Step 2 into the [OpenGeoMetadata](https://opengeometadata.org) Aardvark metadata schema.

## Step 4: parseCSVToMultipleJSONs.py
Parses the output from Step 3 into multiple JSON files (one per item) that can be ingested into GeoBlacklight applications.
