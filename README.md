# OGM Aardvark Metadata Scripts
Scripts for creating geospatial metadata in the [OpenGeoMetadata Aardvark](https://opengeometadata.org) metadata schema for UMass Amherst's [GeoBlacklight](https://geoblacklight.org) repository. The workflow is designed to generate metadata for a collection of georeferenced aerial photos in the [UMass Amherst MacConnell Aerial Photo Collection](https://credo.library.umass.edu/view/collection/mufs190).

## Required inputs

* Individual XML files for each record generated by the [Export Metadata Multiple](https://desktop.arcgis.com/en/arcmap/latest/tools/conversion-toolbox/export-metadata-multiple.htm) tool in ArcMap
* One or more CSV files with additional metadata, each row containing a unique ID

## Workflow

### Step 1: [extractXMLToCSVGetGeoNames.py](https://github.com/umass-gis/metadata-scripts/tree/main/1_extractXMLToCSVGetGeoNames)
Iterates through multiple XML files containing bounding coordinates, extracts relevant data based on tags, uses API queries to retrieve coverage information from the GeoNames database, and aggregates the information into a single CSV.

### Step 2: [mergeCSVs.py](https://github.com/umass-gis/metadata-scripts/tree/main/2_mergeCSVs)
Merges the output from Step 1 with another CSV containing additional metadata, based on a shared unique ID.

### Step 3: [formatCSVtoAardvark.py](https://github.com/umass-gis/metadata-scripts/tree/main/3_formatCSVToAardvark)
Formats the output from Step 2 into the OGM Aardvark metadata schema.

### Step 4: [parseCSVToMultipleJSONs.py](https://github.com/umass-gis/metadata-scripts/tree/main/4_parseCSVToMultipleJSONs)
Parses the output from Step 3 into multiple JSON files (one per item) that can be ingested into GeoBlacklight applications.

## Try it yourself!
To try out the scripts, the [test_data.zip](https://github.com/umass-gis/metadata-scripts/blob/main/test_data.zip) package contains 6 sample XML files of georeferenced aerial photos and the files `scua.csv` and `annotation.csv` with additional metadata about the full aerial photo collection.

You'll need to download the individual Python scripts and save them in the same folder, and then use your favorite Python application to run the scripts (like [PyCharm](https://www.jetbrains.com/pycharm/) or [Google Colab](https://colab.research.google.com)).
